# Network-Base-06 实践：Socket


![](https://p.sda1.dev/22/3e67a9bb8199c4f48c0eae3162b2313a/Net305.png)



> `难度`：一般/困难
>
> 这是一道多梯度难度的题目，将由简到难的涉及到 socket 相关的知识。即使你没完成所有任务，也可以提交。
>
> 注意，作为Advanced守门员，从本题开始引导会逐渐减少，留给大家实践发挥的空间较大。

好了我们终于走完了引导大家看书的所有内容，接下来会稍微上一点强度。

🙌 本题建议在 Linux 环境下完成，并且完成前建议了解一定的 Linux 常识

## 题目描述
### information
> 这里只是简单介绍了一下本题中涉及到的概念，具体的内容希望你能自己去查询具体资料深入了解。
>

首先我们再次简单了解一下 socket，它是计算机之间进行通信的一种约定或一种方式。通过 socket，计算机可以接收其他计算机的数据，也可以向其他计算机发送数据。在 C 语言做题须知里面我们提到过了 Unix 是用 C 语言实现的，而 Unix/Linux 的哲学就是“一切都是文件”，都可以使用 open|write|read|close 的操作，而socket 也不例外，我们可以把 socket 理解为一种特殊的文件。



在你提交的时候，回答中应该包含以下内容

+ 规范的代码
+ 程序编译、运行截图
+ 你开发过程中遇到的问题以及解决方案
+ 你对本题的想法

### Part 1. Cross the Net
用 TCP 协议写一对程序（建议C），用在同一局域网运行后，两个程序可以彼此轮流互发消息

#### tasks:
+ 如果这两个程序不在同一局域网里面，让这对程序还能正常运行吗？为什么？谈谈你的理解
+ 提交运行程序的截图和源代码
+ 你的程序是否是"回合制对话"，即 A 给 B 发送完消息后必须等待 B 回复后才能发送下一条消息？如果是，尝试完善你的程序，使之具有类似 QQ\微信 那种即时通信的功能（这算一个 challenge 任务，你并不一定要完成这个任务）。

### Part 2. Remote Argument
用 UDP 协议写一对程序（建议C），在同一局域网运行后，A 程序中需要计算并打印一个圆的面积，但是输入的参数（半径）在另一台主机运行的 B 程序中输入。

+ 试着拿上一题改一改？

#### tasks:
+ 提交运行程序的截图和源代码
+ 如果你觉得计算圆的面积太简单了，可以自行发挥整点活（但 wp 中需要写清楚，清楚到让一个萌新能看懂）
+ 在 wp 中谈谈自己对 TCP/UDP 的理解，试着说一说它们各自有什么优缺点。

> animi waifu about TCP/UDP
>

![](https://i.loli.net/2021/07/27/HgAGck9tudvTySK.jpg)

### Part 3. Tiny Web （选做）
在前两个题目中，我们都是写好程序然后用户配套使用，这是一种 C/S 架构，但是我们平时网上冲浪🏄‍♂️🏄‍♀️的时候只需要浏览器就可以康各种好康的网站了，这就是一种 B/S 架构。

#### task
现在，你需要写一个简单的 web 服务器（我们称之为 Tiny web 好了)，也就是说当你成功实现了之后，在谷歌 |火狐 | edge | IE 浏览器中输入：192.168.xxx.xxx:xxxxx（也就是你 socket 的地址和端口） 的时候，会出现一个你预设的内容。目前，你只需要实现这个功能，不用考虑其他美观、性能等种种问题。

#### challenge 
1. 修改现有的代码，当浏览器访问 xxx.xxx.xxx.xxx:xxxxx/pic 的时候，可以康到一张图图！（放一张你喜欢的图就行）
2. 使用 fork 让你的服务器变成多进程服务器 或者使用 pthread 让你的服务器变成多线程服务器，你可以只选择一个方案完成。
3. 目前这个服务器只能放出一些有限的内容，而互联网应当是所有人都能参与进来的媒介！实现一个类似网盘的简易服务器，有这样的功能：用户可以上传文件，同时通过访问 xxx.xxx/filename 下载对应的文件
4. 自由发挥你的所学，从性能、安全等方面加入你的巧思，并且在提交的回答中介绍你的想法

#### tips:
+ 回顾一下 http 协议，弄懂一些基本的概念，比如说请求、响应、headers、body。
+ 这个情境下，socket 应该选择 TCP 还是 UDP 呢？
+ 在实现 B/S 中的 S 的时候，我们应该怎么用 C 语言处理请求，又应该怎样生成响应呢？
+ 最后，善用搜索引擎

### 提交方式

将题目中要求的提交的总结内容利用 Markdown 格式进行编辑，并存为 PDF 文件。将其与你的源代码一起提交至邮箱：liquidzk@outlook.com

文件名要求：姓名-学号-Base06.pdf ，有代码的话一起打包为：姓名-学号-Base06.zip 


# 出题者联系⽅式
> <font style="background-color:#FFFFFF;">QQ：492928615</font>
>
> 邮箱：liquidzk@outlook.com
>

---



